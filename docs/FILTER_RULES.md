[EN](FILTER_RULES_en.md) / [RU](FILTER_RULES.md) / [ZH](FILTER_RULES_zh.md)

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è `rules.yaml`](#–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è-–¥–ª—è-rulesyaml)
  - [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–∏-–æ—Å–Ω–æ–≤–Ω—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏)
  - [1. `required_params` ‚Äî –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã](#1-required_params--–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã)
  - [2. `allowed_values` ‚Äî –†–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è](#2-allowed_values--—Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ-–∑–Ω–∞—á–µ–Ω–∏—è)
  - [3. `forbidden_values` ‚Äî –ó–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è](#3-forbidden_values--–∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ-–∑–Ω–∞—á–µ–Ω–∏—è)
  - [4. `conditional` ‚Äî –£—Å–ª–æ–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞](#4-conditional--—É—Å–ª–æ–≤–Ω—ã–µ-–ø—Ä–∞–≤–∏–ª–∞)
  - [VLESS ‚Äî –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](#vless--–ø–æ–ª–Ω–∞—è-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
    - [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∞–≤–∏–ª](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–∞–≤–∏–ª)
    - [–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã](#–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã)
    - [–†–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã](#—Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã)
    - [–ó–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã](#–∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã)
    - [–£—Å–ª–æ–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞](#—É—Å–ª–æ–≤–Ω—ã–µ-–ø—Ä–∞–≤–∏–ª–∞)
    - [–ü—Ä–∏–º–µ—Ä—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö —Å—Å—ã–ª–æ–∫](#–ø—Ä–∏–º–µ—Ä—ã-–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö-—Å—Å—ã–ª–æ–∫)
  - [VMess ‚Äî –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](#vmess--–ø–æ–ª–Ω–∞—è-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
    - [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∞–≤–∏–ª](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–∞–≤–∏–ª-1)
    - [–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã](#–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã-1)
    - [–†–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã](#—Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã-1)
    - [–ó–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã](#–∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã-1)
    - [–£—Å–ª–æ–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞](#—É—Å–ª–æ–≤–Ω—ã–µ-–ø—Ä–∞–≤–∏–ª–∞-1)
    - [–ü—Ä–∏–º–µ—Ä—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö —Å—Å—ã–ª–æ–∫](#–ø—Ä–∏–º–µ—Ä—ã-–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö-—Å—Å—ã–ª–æ–∫-1)
  - [Trojan ‚Äî –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](#trojan--–ø–æ–ª–Ω–∞—è-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
    - [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∞–≤–∏–ª](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–∞–≤–∏–ª-2)
    - [–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã](#–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã-2)
    - [–†–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã](#—Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã-2)
    - [üî¥ –ó–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã](#-–∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã)
    - [–£—Å–ª–æ–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞](#—É—Å–ª–æ–≤–Ω—ã–µ-–ø—Ä–∞–≤–∏–ª–∞-2)
    - [–ü—Ä–∏–º–µ—Ä—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö —Å—Å—ã–ª–æ–∫](#–ø—Ä–∏–º–µ—Ä—ã-–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö-—Å—Å—ã–ª–æ–∫-2)
  - [Shadowsocks (SS) ‚Äî –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](#shadowsocks-ss--–ø–æ–ª–Ω–∞—è-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
    - [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∞–≤–∏–ª](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–∞–≤–∏–ª-3)
    - [–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã](#–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã-3)
    - [–†–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è](#—Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ-–º–µ—Ç–æ–¥—ã-—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è)
      - [‚úÖ AEAD –º–µ—Ç–æ–¥—ã (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç)](#-aead-–º–µ—Ç–æ–¥—ã-—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π-—Å—Ç–∞–Ω–¥–∞—Ä—Ç)
      - [‚úÖ Shadowsocks 2022 (–Ω–æ–≤—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç —Å Blake3)](#-shadowsocks-2022-–Ω–æ–≤—ã–π-—Å—Ç–∞–Ω–¥–∞—Ä—Ç-—Å-blake3)
      - [‚úÖ –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥](#-—Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π-–º–µ—Ç–æ–¥)
    - [üî¥ –ó–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã (–£–î–ê–õ–ï–ù–´ –≤ Xray-core 2024+)](#-–∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ-–º–µ—Ç–æ–¥—ã-—É–¥–∞–ª–µ–Ω—ã-–≤-xray-core-2024)
    - [–ü—Ä–∏–º–µ—Ä—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö —Å—Å—ã–ª–æ–∫](#–ø—Ä–∏–º–µ—Ä—ã-–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö-—Å—Å—ã–ª–æ–∫-3)
  - [Hysteria2 ‚Äî –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](#hysteria2--–ø–æ–ª–Ω–∞—è-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
    - [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∞–≤–∏–ª](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–∞–≤–∏–ª-4)
    - [–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã](#–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã-4)
    - [–†–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã](#—Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã-3)
    - [–ü—Ä–∏–º–µ—Ä—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö —Å—Å—ã–ª–æ–∫](#–ø—Ä–∏–º–µ—Ä—ã-–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö-—Å—Å—ã–ª–æ–∫-4)
  - [–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (—Ñ–µ–≤—Ä–∞–ª—å 2026)](#–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ-–∏–∑–º–µ–Ω–µ–Ω–∏—è-—Ñ–µ–≤—Ä–∞–ª—å-2026)
    - [üî¥ Trojan: –ü–∞—Ä–∞–º–µ—Ç—Ä `flow` –±–æ–ª—å—à–µ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è](#-trojan-–ø–∞—Ä–∞–º–µ—Ç—Ä-flow-–±–æ–ª—å—à–µ-–Ω–µ-–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è)
    - [üî¥ Shadowsocks: CFB –∏ CTR –º–µ—Ç–æ–¥—ã –±–æ–ª—å—à–µ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è](#-shadowsocks-cfb-–∏-ctr-–º–µ—Ç–æ–¥—ã-–±–æ–ª—å—à–µ-–Ω–µ-–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è)
  - [–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã](#–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-—Ä–µ—Å—É—Ä—Å—ã)


# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è `rules.yaml`

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

–§–∞–π–ª `config/rules.yaml` —Å–æ–¥–µ—Ä–∂–∏—Ç **–ø—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏** –¥–ª—è –≤—Å–µ—Ö –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ –ø—Ä–æ–∫—Å–∏. –≠—Ç–∏ –ø—Ä–∞–≤–∏–ª–∞ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç, –∫–∞–∫–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å—á–∏—Ç–∞—é—Ç—Å—è **–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏**, –∞ –∫–∞–∫–∏–µ –ø–æ–¥–ª–µ–∂–∞—Ç **–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—é**.

–§–∞–π–ª —Ä–∞–∑–¥–µ–ª—ë–Ω –Ω–∞ **—Å–µ–∫—Ü–∏–∏ –ø–æ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞–º**:
- `vless` ‚Äî VLESS –ø—Ä–æ—Ç–æ–∫–æ–ª
- `vmess` ‚Äî VMess –ø—Ä–æ—Ç–æ–∫–æ–ª
- `trojan` ‚Äî Trojan –ø—Ä–æ—Ç–æ–∫–æ–ª
- `ss` ‚Äî Shadowsocks –ø—Ä–æ—Ç–æ–∫–æ–ª
- `hysteria2` ‚Äî Hysteria2 –ø—Ä–æ—Ç–æ–∫–æ–ª

---

## 1. `required_params` ‚Äî –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

–°–ø–∏—Å–æ–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ–ª–∂–Ω—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å** –≤ —Å—Å—ã–ª–∫–µ.

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ï—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ **–Ω–µ—Ç** ‚Äî —Å—Å—ã–ª–∫–∞ **–æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è **–ø–µ—Ä–≤–æ–π** –ø–µ—Ä–µ–¥ –≤—Å–µ–º–∏ –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏

**–ü—Ä–∏–º–µ—Ä:**
```yaml
vless:
  required_params:
    - encryption
    - sni
```

**–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è:** VLESS-—Å—Å—ã–ª–∫–∞ –¥–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `encryption` –∏ `sni`. –ï—Å–ª–∏ –æ–¥–Ω–æ–≥–æ –∏–∑ –Ω–∏—Ö –Ω–µ—Ç ‚Äî —Å—Å—ã–ª–∫–∞ –±—É–¥–µ—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞.

---

## 2. `allowed_values` ‚Äî –†–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

–°–ø–∏—Å–æ–∫ **–¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π** –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞.

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è **—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç**
- –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ **–Ω–µ –≤—Ö–æ–¥–∏—Ç** –≤ —Å–ø–∏—Å–æ–∫ ‚Äî —Å—Å—ã–ª–∫–∞ **–æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è**
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ **—Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–µ** (aes-256-gcm = AES-256-GCM)
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: **–º–µ–Ω—å—à–µ, —á–µ–º `forbidden_values`**

**–ü—Ä–∏–º–µ—Ä:**
```yaml
ss:
  allowed_values:
    method:
      - "aes-128-gcm"
      - "aes-256-gcm"
      - "chacha20-poly1305"
      - "2022-blake3-aes-256-gcm"
```

**–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è:** –î–ª—è Shadowsocks —Ä–∞–∑—Ä–µ—à–µ–Ω—ã —Ç–æ–ª—å–∫–æ —ç—Ç–∏ –º–µ—Ç–æ–¥—ã —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è. –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω –¥—Ä—É–≥–æ–π –º–µ—Ç–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `aes-128-cfb`) ‚Äî —Å—Å—ã–ª–∫–∞ –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è.

---

## 3. `forbidden_values` ‚Äî –ó–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

–°–ø–∏—Å–æ–∫ **–∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π** –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞.

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è **—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç**
- –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ **–≤—Ö–æ–¥–∏—Ç** –≤ —Å–ø–∏—Å–æ–∫ ‚Äî —Å—Å—ã–ª–∫–∞ **–æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è**
- **–ò–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ `allowed_values`** (–ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º)
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ **—Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–µ**
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **wildcard** `"*"` ‚Äî –æ–∑–Ω–∞—á–∞–µ—Ç –∑–∞–ø—Ä–µ—Ç **–ª—é–±–æ–≥–æ** –∑–Ω–∞—á–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞

**–ü—Ä–∏–º–µ—Ä—ã:**
```yaml
vless:
  forbidden_values:
    security: ["none"]      # security=none –∑–∞–ø—Ä–µ—â—ë–Ω
    authority: [""]         # –ø—É—Å—Ç–æ–π authority –∑–∞–ø—Ä–µ—â—ë–Ω

trojan:
  forbidden_values:
    flow: ["*"]             # –í–°–ï –∑–Ω–∞—á–µ–Ω–∏—è flow –∑–∞–ø—Ä–µ—â–µ–Ω—ã (–ø–∞—Ä–∞–º–µ—Ç—Ä –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª—ë–Ω)
```

**–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è:** 
- VLESS —Å `security=none` –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è
- Trojan —Å –ª—é–±—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º `flow` –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è (–ø–∞—Ä–∞–º–µ—Ç—Ä —É—Å—Ç–∞—Ä–µ–ª –≤ Xray-core 2024+)

> ‚ö†Ô∏è **–í–∞–∂–Ω–æ:** `forbidden_values` –∏–º–µ–µ—Ç **–≥–ª–æ–±–∞–ª—å–Ω—ã–π** —Ö–∞—Ä–∞–∫—Ç–µ—Ä. –ß—Ç–æ–±—ã —Ä–∞–∑—Ä–µ—à–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `security=none` —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞), –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **—É—Å–ª–æ–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞** `conditional`.

---

## 4. `conditional` ‚Äî –£—Å–ª–æ–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞

–ü—Ä–∞–≤–∏–ª–∞, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è **—Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π**.

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```yaml
conditional:
  - when: { –ø–∞—Ä–∞–º–µ—Ç—Ä: –∑–Ω–∞—á–µ–Ω–∏–µ }
    require: [—Å–ø–∏—Å–æ–∫_–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö_–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤]
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è **–ø–æ—Å–ª–µ** `required_params`, `allowed_values`, `forbidden_values`
- –£—Å–ª–æ–≤–∏–µ `when` —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –ò (–≤—Å–µ —É—Å–ª–æ–≤–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏—Å—Ç–∏–Ω–Ω—ã)
- –ï—Å–ª–∏ —É—Å–ª–æ–≤–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ, —Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ `require` —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏**

**–ü—Ä–∏–º–µ—Ä—ã:**
```yaml
conditional:
  # –ï—Å–ª–∏ security=reality, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å pbk
  - when: { security: "reality" }
    require: ["pbk"]

  # –ï—Å–ª–∏ type=grpc, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å serviceName
  - when: { type: "grpc" }
    require: ["serviceName"]

  # –ï—Å–ª–∏ type=ws, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å path
  - when: { type: "ws" }
    require: ["path"]
```

**–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è:**
- VLESS —Å `security=reality` –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `pbk`
- VLESS —Å `type=grpc` –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `serviceName`
- VLESS —Å `type=ws` –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `path`

---

## VLESS ‚Äî –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∞–≤–∏–ª
```yaml
vless:
  required_params:
    - encryption
    - sni
  forbidden_values:
    security: ["none"]
    authority: [""]
  allowed_values:
    security: ["tls", "reality"]
    type: ["tcp", "ws", "httpupgrade", "grpc", "xhttp", "splithttp"]
    flow:
      - "xtls-rprx-vision"
      - "xtls-rprx-vision-udp443"
      - "xtls-rprx-vision-direct"
    mode: ["gun", "multi"]
  conditional:
    - when: { security: "reality" }
      require: ["pbk"]
    - when: { type: "grpc" }
      require: ["serviceName"]
    - when: { type: "ws" }
      require: ["path"]
    - when: { type: "httpupgrade" }
      require: ["path"]
    - when: { type: "xhttp" }
      require: ["path"]
    - when: { type: "splithttp" }
      require: ["path"]
```

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä     | –û–ø–∏—Å–∞–Ω–∏–µ                            |
| ------------ | ----------------------------------- |
| `encryption` | –ú–µ—Ç–æ–¥ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è (–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω)       |
| `sni`        | Server Name Indication (–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω) |

### –†–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä   | –î–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è                                                      | –û–ø–∏—Å–∞–Ω–∏–µ                                |
| ---------- | ------------------------------------------------------------------------ | --------------------------------------- |
| `security` | `tls`, `reality`                                                         | –¢–∏–ø –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. **–ó–∞–ø—Ä–µ—â–µ–Ω–æ:** `none` |
| `type`     | `tcp`, `ws`, `httpupgrade`, `grpc`, `xhttp`, `splithttp`                 | –¢–∏–ø —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞                          |
| `flow`     | `xtls-rprx-vision`, `xtls-rprx-vision-udp443`, `xtls-rprx-vision-direct` | XTLS flow (—Ç–æ–ª—å–∫–æ –¥–ª—è REALITY)          |
| `mode`     | `gun`, `multi`                                                           | –†–µ–∂–∏–º –¥–ª—è gRPC                          |

### –ó–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä    | –ó–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è | –ü—Ä–∏—á–∏–Ω–∞                        |
| ----------- | -------------------- | ------------------------------ |
| `security`  | `none`               | –ù–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ ‚Äî –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ |
| `authority` | `` (–ø—É—Å—Ç–æ)           | –ù–∞—Ä—É—à–∞–µ—Ç gRPC —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é     |

### –£—Å–ª–æ–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞

| –£—Å–ª–æ–≤–∏–µ            | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ                         |
| ------------------ | --------------------- | -------------------------------- |
| `security=reality` | `pbk`                 | REALITY —Ç—Ä–µ–±—É–µ—Ç –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞ |
| `type=grpc`        | `serviceName`         | gRPC —Ç—Ä–µ–±—É–µ—Ç –∏–º–µ–Ω–∏ —Å–µ—Ä–≤–∏—Å–∞       |
| `type=ws`          | `path`                | WebSocket —Ç—Ä–µ–±—É–µ—Ç –ø—É—Ç–∏           |
| `type=httpupgrade` | `path`                | HTTP Upgrade —Ç—Ä–µ–±—É–µ—Ç –ø—É—Ç–∏        |
| `type=xhttp`       | `path`                | XHTTP —Ç—Ä–µ–±—É–µ—Ç –ø—É—Ç–∏               |
| `type=splithttp`   | `path`                | SplitHTTP —Ç—Ä–µ–±—É–µ—Ç –ø—É—Ç–∏           |

### –ü—Ä–∏–º–µ—Ä—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö —Å—Å—ã–ª–æ–∫

‚úÖ VLESS TCP —Å TLS:
```
vless://uuid@example.com:443?encryption=none&sni=example.com&security=tls&type=tcp
```

‚úÖ VLESS gRPC —Å REALITY:
```
vless://uuid@example.com:443?encryption=none&sni=example.com&security=reality&pbk=key&type=grpc&serviceName=service&mode=gun
```

‚úÖ VLESS WebSocket:
```
vless://uuid@example.com:443?encryption=none&sni=example.com&security=tls&type=ws&path=/path
```

---

## VMess ‚Äî –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∞–≤–∏–ª
```yaml
vmess:
  required_params:
    - uuid
  forbidden_values:
    security: ["none"]
  allowed_values:
    net: ["tcp", "ws", "grpc", "httpupgrade", "h2", "xhttp", "splithttp"]
    security: ["auto", "aes-128-gcm", "chacha20-poly1305", "zero", "none"]
  conditional:
    - when: { net: "grpc" }
      require: ["serviceName"]
    - when: { net: "ws" }
      require: ["path"]
    - when: { net: "httpupgrade" }
      require: ["path"]
    - when: { net: "xhttp" }
      require: ["path"]
    - when: { net: "splithttp" }
      require: ["path"]
```

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ                  |
| -------- | ------------------------- |
| `uuid`   | UUID –∫–ª–∏–µ–Ω—Ç–∞ (–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω) |

### –†–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä   | –î–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è                                            | –û–ø–∏—Å–∞–Ω–∏–µ         |
| ---------- | -------------------------------------------------------------- | ---------------- |
| `net`      | `tcp`, `ws`, `grpc`, `httpupgrade`, `h2`, `xhttp`, `splithttp` | –¢–∏–ø —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞   |
| `security` | `auto`, `aes-128-gcm`, `chacha20-poly1305`, `zero`, `none`     | –ú–µ—Ç–æ–¥ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è |

### –ó–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä   | –ó–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è | –ü—Ä–∏—á–∏–Ω–∞                      |
| ---------- | -------------------- | ---------------------------- |
| `security` | `none`               | –ù–µ—Ç —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è ‚Äî –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ |

> ‚ö†Ô∏è **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ó–Ω–∞—á–µ–Ω–∏—è `zero` –∏ `none` –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤–∫–ª—é—á–µ–Ω—ã –≤ `allowed_values` –¥–ª—è **–æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏**, –Ω–æ –≤–Ω–µ—Å–µ–Ω—ã –≤ `forbidden_values` –¥–ª—è **–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è** ‚Äî —Ç.–µ. –æ–Ω–∏ –¥–µ-—Ñ–∞–∫—Ç–æ –∑–∞–ø—Ä–µ—â–µ–Ω—ã.

### –£—Å–ª–æ–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞

| –£—Å–ª–æ–≤–∏–µ           | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ                   |
| ----------------- | --------------------- | -------------------------- |
| `net=grpc`        | `serviceName`         | gRPC —Ç—Ä–µ–±—É–µ—Ç –∏–º–µ–Ω–∏ —Å–µ—Ä–≤–∏—Å–∞ |
| `net=ws`          | `path`                | WebSocket —Ç—Ä–µ–±—É–µ—Ç –ø—É—Ç–∏     |
| `net=httpupgrade` | `path`                | HTTP Upgrade —Ç—Ä–µ–±—É–µ—Ç –ø—É—Ç–∏  |
| `net=xhttp`       | `path`                | XHTTP —Ç—Ä–µ–±—É–µ—Ç –ø—É—Ç–∏         |
| `net=splithttp`   | `path`                | SplitHTTP —Ç—Ä–µ–±—É–µ—Ç –ø—É—Ç–∏     |

### –ü—Ä–∏–º–µ—Ä—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö —Å—Å—ã–ª–æ–∫

‚úÖ VMess TCP —Å AES-128-GCM:
```
vmess://uuid@example.com:10086?net=tcp&security=aes-128-gcm&tls=tls
```

‚úÖ VMess WebSocket:
```
vmess://uuid@example.com:80?net=ws&security=auto&path=/api
```

---

## Trojan ‚Äî –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∞–≤–∏–ª
```yaml
trojan:
  required_params:
    - password
  forbidden_values:
    flow: ["*"]  # –õ—é–±–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ flow –∑–∞–ø—Ä–µ—â–µ–Ω–æ (–ø–∞—Ä–∞–º–µ—Ç—Ä —É–¥–∞–ª—ë–Ω –≤ Xray-core 2024+)
  allowed_values:
    type: ["tcp", "ws", "grpc", "httpupgrade", "xhttp", "splithttp"]
    security: ["tls", "reality"]
    mode: ["gun", "multi"]
  conditional:
    - when: { security: "reality" }
      require: ["pbk"]
    - when: { type: "grpc" }
      require: ["serviceName"]
    - when: { type: "ws" }
      require: ["path"]
    - when: { type: "httpupgrade" }
      require: ["path"]
    - when: { type: "xhttp" }
      require: ["path"]
    - when: { type: "splithttp" }
      require: ["path"]
```

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä   | –û–ø–∏—Å–∞–Ω–∏–µ                               |
| ---------- | -------------------------------------- |
| `password` | –ü–∞—Ä–æ–ª—å –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω) |

### –†–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä   | –î–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è                                      | –û–ø–∏—Å–∞–Ω–∏–µ         |
| ---------- | -------------------------------------------------------- | ---------------- |
| `type`     | `tcp`, `ws`, `grpc`, `httpupgrade`, `xhttp`, `splithttp` | –¢–∏–ø —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞   |
| `security` | `tls`, `reality`                                         | –¢–∏–ø –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ |
| `mode`     | `gun`, `multi`                                           | –†–µ–∂–∏–º –¥–ª—è gRPC   |

### üî¥ –ó–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è            | –ü—Ä–∏—á–∏–Ω–∞                        |
| -------- | ------------------------------- | ------------------------------ |
| `flow`   | **–í–°–ï** –∑–Ω–∞—á–µ–Ω–∏—è (wildcard `*`) | ‚ùå **–£–î–ê–õ–Å–ù –≤ Xray-core 2024+** |

> ‚ö†Ô∏è **–ö–†–ò–¢–ò–ß–ù–û:** –ü–∞—Ä–∞–º–µ—Ç—Ä `flow` –±–æ–ª—å—à–µ **–Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è** –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤–µ—Ä—Å–∏—è—Ö Xray-core. –õ—é–±–æ–π Trojan –∫–æ–Ω—Ñ–∏–≥ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `flow` –±—É–¥–µ—Ç **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω** –ø—Ä–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏.

### –£—Å–ª–æ–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞

| –£—Å–ª–æ–≤–∏–µ            | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ                         |
| ------------------ | --------------------- | -------------------------------- |
| `security=reality` | `pbk`                 | REALITY —Ç—Ä–µ–±—É–µ—Ç –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞ |
| `type=grpc`        | `serviceName`         | gRPC —Ç—Ä–µ–±—É–µ—Ç –∏–º–µ–Ω–∏ —Å–µ—Ä–≤–∏—Å–∞       |
| `type=ws`          | `path`                | WebSocket —Ç—Ä–µ–±—É–µ—Ç –ø—É—Ç–∏           |
| `type=httpupgrade` | `path`                | HTTP Upgrade —Ç—Ä–µ–±—É–µ—Ç –ø—É—Ç–∏        |
| `type=xhttp`       | `path`                | XHTTP —Ç—Ä–µ–±—É–µ—Ç –ø—É—Ç–∏               |
| `type=splithttp`   | `path`                | SplitHTTP —Ç—Ä–µ–±—É–µ—Ç –ø—É—Ç–∏           |

### –ü—Ä–∏–º–µ—Ä—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö —Å—Å—ã–ª–æ–∫

‚úÖ Trojan TCP —Å TLS:
```
trojan://password@example.com:443?security=tls&type=tcp
```

‚úÖ Trojan gRPC:
```
trojan://password@example.com:443?security=tls&type=grpc&serviceName=service&mode=gun
```

‚ùå **–ù–ï–í–ï–†–ù–û** ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç –∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä `flow`:
```
trojan://password@example.com:443?flow=xtls-rprx-vision  ‚Üê –û–¢–ö–õ–û–ù–ï–ù–û
```

---

## Shadowsocks (SS) ‚Äî –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∞–≤–∏–ª
```yaml
ss:
  required_params:
    - password
    - method
  forbidden_values:
    method:
      - "aes-128-cfb"
      - "aes-256-cfb"
      - "aes-128-ctr"
      - "aes-256-ctr"
  allowed_values:
    method:
      - "aes-128-gcm"
      - "aes-256-gcm"
      - "chacha20-poly1305"
      - "xchacha20-poly1305"
      - "2022-blake3-aes-128-gcm"
      - "2022-blake3-aes-256-gcm"
      - "2022-blake3-chacha20-poly1305"
      - "none"
```

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä   | –û–ø–∏—Å–∞–Ω–∏–µ                               |
| ---------- | -------------------------------------- |
| `password` | –ü–∞—Ä–æ–ª—å –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω) |
| `method`   | –ú–µ—Ç–æ–¥ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è (–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω)          |

### –†–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è

#### ‚úÖ AEAD –º–µ—Ç–æ–¥—ã (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç)

| –ú–µ—Ç–æ–¥                | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è                                                           |
| -------------------- | ---------------------------------------------------------------------- |
| `aes-128-gcm`        | ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è, –Ω–æ –º–µ–Ω–µ–µ –±–µ–∑–æ–ø–∞—Å–µ–Ω —á–µ–º 256-bit                       |
| `aes-256-gcm`        | ‚úÖ **–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø** ‚Äî —Ö–æ—Ä–æ—à–∏–π –±–∞–ª–∞–Ω—Å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ |
| `chacha20-poly1305`  | ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è, –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ AES (–ø–æ –°–ü–¶)                            |
| `xchacha20-poly1305` | ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è, —É—Å–∏–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è ChaCha20                            |

#### ‚úÖ Shadowsocks 2022 (–Ω–æ–≤—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç —Å Blake3)

| –ú–µ—Ç–æ–¥                           | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è                                         |
| ------------------------------- | ---------------------------------------------------- |
| `2022-blake3-aes-128-gcm`       | ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è (SS 2022 —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è)              |
| `2022-blake3-aes-256-gcm`       | ‚úÖ **–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø** ‚Äî —Å–∞–º—ã–π –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π |
| `2022-blake3-chacha20-poly1305` | ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è (SS 2022 —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è)              |

#### ‚úÖ –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥

| –ú–µ—Ç–æ–¥  | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è                                                   |
| ------ | -------------------------------------------------------------- |
| `none` | ‚ö†Ô∏è –ë–µ–∑ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–¥–∫–æ, —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è |

### üî¥ –ó–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã (–£–î–ê–õ–ï–ù–´ –≤ Xray-core 2024+)

| –ú–µ—Ç–æ–¥         | –ü—Ä–∏—á–∏–Ω–∞ —É–¥–∞–ª–µ–Ω–∏—è            |
| ------------- | --------------------------- |
| `aes-128-cfb` | ‚ùå –£—Å—Ç–∞—Ä–µ–≤—à–∏–π –ø–æ—Ç–æ–∫–æ–≤—ã–π —à–∏—Ñ—Ä |
| `aes-256-cfb` | ‚ùå –£—Å—Ç–∞—Ä–µ–≤—à–∏–π –ø–æ—Ç–æ–∫–æ–≤—ã–π —à–∏—Ñ—Ä |
| `aes-128-ctr` | ‚ùå –£—Å—Ç–∞—Ä–µ–≤—à–∏–π –ø–æ—Ç–æ–∫–æ–≤—ã–π —à–∏—Ñ—Ä |
| `aes-256-ctr` | ‚ùå –£—Å—Ç–∞—Ä–µ–≤—à–∏–π –ø–æ—Ç–æ–∫–æ–≤—ã–π —à–∏—Ñ—Ä |

> ‚ö†Ô∏è **–ö–†–ò–¢–ò–ß–ù–û:** –ú–µ—Ç–æ–¥—ã CFB –∏ CTR **–±–æ–ª—å—à–µ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã** –≤ Xray-core 2024+. –õ—é–±–æ–π Shadowsocks –∫–æ–Ω—Ñ–∏–≥ —Å —ç—Ç–∏–º–∏ –º–µ—Ç–æ–¥–∞–º–∏ –±—É–¥–µ—Ç **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω** –ø—Ä–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏.

### –ü—Ä–∏–º–µ—Ä—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö —Å—Å—ã–ª–æ–∫

‚úÖ **–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø** ‚Äî SS 2022 —Å Blake3:
```
ss://2022-blake3-aes-256-gcm:password@example.com:8388
```

‚úÖ Shadowsocks —Å AES-256-GCM:
```
ss://aes-256-gcm:password@example.com:8388
```

‚ùå **–ù–ï–í–ï–†–ù–û** ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç —É—Å—Ç–∞—Ä–µ–≤—à–∏–π –º–µ—Ç–æ–¥ CFB:
```
ss://aes-256-cfb:password@example.com:8388  ‚Üê –û–¢–ö–õ–û–ù–ï–ù–û (–º–µ—Ç–æ–¥ —É–¥–∞–ª—ë–Ω)
```

---

## Hysteria2 ‚Äî –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∞–≤–∏–ª
```yaml
hysteria2:
  required_params:
    - obfs
    - obfs-password
  allowed_values:
    obfs: ["salamander"]
```

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä        | –û–ø–∏—Å–∞–Ω–∏–µ                           |
| --------------- | ---------------------------------- |
| `obfs`          | –ú–µ—Ç–æ–¥ –æ–±—Ñ—É—Å–∫–∞—Ü–∏–∏ (–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω)      |
| `obfs-password` | –ü–∞—Ä–æ–ª—å –¥–ª—è –æ–±—Ñ—É—Å–∫–∞—Ü–∏–∏ (–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω) |

### –†–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –î–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ                                     |
| -------- | ------------------- | -------------------------------------------- |
| `obfs`   | `salamander`        | –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π –º–µ—Ç–æ–¥ –æ–±—Ñ—É—Å–∫–∞—Ü–∏–∏ |

### –ü—Ä–∏–º–µ—Ä—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö —Å—Å—ã–ª–æ–∫

‚úÖ Hysteria2 —Å –æ–±—Ñ—É—Å–∫–∞—Ü–∏–µ–π:
```
hy2://password@example.com:443?obfs=salamander&obfs-password=secret
```

---

## –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (—Ñ–µ–≤—Ä–∞–ª—å 2026)

### üî¥ Trojan: –ü–∞—Ä–∞–º–µ—Ç—Ä `flow` –±–æ–ª—å—à–µ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è

**–ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:**
- –í Xray-core 2024+ –ø–∞—Ä–∞–º–µ—Ç—Ä `flow` –±—ã–ª **—É–¥–∞–ª—ë–Ω** –∏–∑ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ Trojan
- –í `rules.yaml` –¥–æ–±–∞–≤–ª–µ–Ω–æ: `forbidden_values: { flow: ["*"] }`
- –õ—é–±–æ–π Trojan –∫–æ–Ω—Ñ–∏–≥ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `flow` –±—É–¥–µ—Ç **–æ—Ç–∫–ª–æ–Ω–µ–Ω**

**–ü—Ä–∏–º–µ—Ä—ã –æ—Ç–∫–ª–æ–Ω—ë–Ω–Ω—ã—Ö —Å—Å—ã–ª–æ–∫:**
```
‚ùå trojan://password@example.com:443?flow=xtls-rprx-vision
‚ùå trojan://password@example.com:443?type=tcp&flow=xtls-rprx-vision-udp443
```

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. **–û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥–∏:** —É–¥–∞–ª–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä `flow` –∏–∑ URL
2. **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞:**
   ```
   ‚úÖ trojan://password@example.com:443?security=tls&type=tcp
   ```

---

### üî¥ Shadowsocks: CFB –∏ CTR –º–µ—Ç–æ–¥—ã –±–æ–ª—å—à–µ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è

**–ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:**
- –í Xray-core 2024+ —É–¥–∞–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã `aes-128-cfb`, `aes-256-cfb`, `aes-128-ctr`, `aes-256-ctr`
- –í `rules.yaml` –¥–æ–±–∞–≤–ª–µ–Ω–æ: `forbidden_values: { method: [aes-128-cfb, aes-256-cfb, aes-128-ctr, aes-256-ctr] }`
- –õ—é–±–æ–π Shadowsocks –∫–æ–Ω—Ñ–∏–≥ —Å —ç—Ç–∏–º–∏ –º–µ—Ç–æ–¥–∞–º–∏ –±—É–¥–µ—Ç **–æ—Ç–∫–ª–æ–Ω–µ–Ω**

**–ü—Ä–∏–º–µ—Ä—ã –æ—Ç–∫–ª–æ–Ω—ë–Ω–Ω—ã—Ö —Å—Å—ã–ª–æ–∫:**
```
‚ùå ss://aes-128-cfb:password@example.com:8388
‚ùå ss://aes-256-ctr:password@example.com:8388
```

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –º–µ—Ç–æ–¥—ã:**
- **–õ—É—á—à–∏–π –≤—ã–±–æ—Ä:** `ss://2022-blake3-aes-256-gcm:password@example.com:8388` (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç)
- **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:** `ss://aes-256-gcm:password@example.com:8388` (—Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π AEAD)

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. **–û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥–∏:** –∑–∞–º–µ–Ω–∏—Ç–µ –º–µ—Ç–æ–¥ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è
2. **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏:**
   ```
   ‚úÖ ss://2022-blake3-aes-256-gcm:password@example.com:8388
   ‚úÖ ss://aes-256-gcm:password@example.com:8388
   ‚úÖ ss://chacha20-poly1305:password@example.com:8388
   ```

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- **Xray-core —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è:** https://xtls.github.io/
- **VLESS —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è:** https://github.com/XTLS/Xray-core/blob/main/features/inbound/vless/encoding.go
- **Trojan —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è:** https://trojan-gfw.github.io/
- **Shadowsocks —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è:** https://shadowsocks.org/

---

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:** 2.1 (–§–µ–≤—Ä–∞–ª—å 2026)  
**–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** Xray-core 2024+ (98%+)  
**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 4 —Ñ–µ–≤—Ä–∞–ª—è 2026 –≥.
