[EN](FAQ_en.md) / [RU](FAQ.md) / [ZH](FAQ_zh.md)

此翻译由神经网络完成，如有任何错误，敬请谅解。

- [常見問題](#常見問題)
  - [為什麼需要這個程式？](#為什麼需要這個程式)
  - [程式會移除哪些內容？](#程式會移除哪些內容)
  - [為什麼要移除未加密的伺服器？](#為什麼要移除未加密的伺服器)
  - [如果客戶端支援內建過濾，為何還需要本程式？](#如果客戶端支援內建過濾為何還需要本程式)
  - [為什麼需要快取？](#為什麼需要快取)
  - [如何查看被移除的內容？](#如何查看被移除的內容)
  - [為什麼要解碼伺服器名稱？](#為什麼要解碼伺服器名稱)
  - [為什麼要根據 User-Agent 過濾？](#為什麼要根據-user-agent-過濾)
  - [什麼是 CLI 模式？為何使用？](#什麼是-cli-模式為何使用)
  - [執行本程式會洩露我的資料嗎？](#執行本程式會洩露我的資料嗎)

# 常见问题解答

## 为什么需要这个程序？

有时，代理订阅会因为**一行错误配置**而完全失效，导致路由器或客户端拒绝加载整个订阅。与其手动清理订阅或逐个添加服务器，不如使用本程序：

**自动清理公共代理订阅**，移除无效、不安全或不需要的服务器。特别适合路由器和资源受限的设备。

> ⚠️ 本程序**不检测代理可用性**（存活）——仅验证配置的正确性。

## 程序具体会移除哪些内容？

- `security=none` 的 VLESS（未加密流量 —— **所有情况均禁止**）
- 缺少必需参数的 VLESS：
  - `encryption` 和 `sni`
  - `security=reality` 时缺少 `pbk`
  - `type=grpc` 时缺少 `serviceName`
  - `type=ws`/`xhttp` 时缺少 `path`
- 未设置 `tls=tls` 的 VMess
- 配置错误的 Trojan（例如：`type=grpc` 但未提供 `serviceName`）
- 缺少 `obfs` 或 `obfs-password` 的 Hysteria2
- 名称中包含“屏蔽词”的服务器
- 不在指定国家列表中的服务器

## 为什么要按国家过滤？

只使用您所需司法管辖区的服务器 —— 例如，**提升速度和连接稳定性**。

## 国家过滤如何工作？

程序会在代理链接的 **片段部分**（`#...`）中搜索以下任一内容：

- 两位国家代码（ISO 3166-1 alpha-2）：`AD`
- 三位国家代码（ISO 3166-1 alpha-3）：`AND`
- 国旗 emoji：`🇦🇩`
- 英文名称：`Andorra`
- 本地名称：`Principat d'Andorra`

匹配 **不区分大小写**，并支持 **URL 解码**。

## 如何查看程序移除了哪些内容？

在缓存目录（`/tmp/sub-filter-cache`）中，会为每个订阅生成两个文件：

- `mod_??.txt` —— 过滤后的订阅
- `rejected_??.txt` —— 被拒绝的条目及原因

文件名取决于：

- 订阅编号（`?id=1` → `rejected_1.txt`）
- 国家代码（如按国家过滤，例如 `rejected_1_cn.txt`）

## 我的数据会不会被发送到其他地方？

**不会**。所有操作均在**本地完成**。程序仅执行以下操作：

1. 从指定 URL 下载公共订阅
2. 在您的设备上处理订阅
3. 将结果返回给您的客户端（Clash、路由器等）

**不会向任何第三方发送数据**。  
程序既可作为后台服务运行，也可通过 CLI 模式一次性处理。无需云服务，甚至可在您自己的设备上以 Docker 容器方式运行。

---
