[EN](FILTER_RULES_en.md) / [RU](FILTER_RULES.md) / [ZH](FILTER_RULES_zh.md)

æ­¤ç¿»è¯‘ç”±ç¥ç»ç½‘ç»œå®Œæˆï¼Œå¦‚æœ‰ä»»ä½•é”™è¯¯ï¼Œæ•¬è¯·è°…è§£ã€‚

- [`rules.yaml` æ–‡ä»¶èªªæ˜](#rulesyaml-æ–‡ä»¶èªªæ˜)
  - [çµæ§‹èˆ‡æ ¸å¿ƒæ¦‚å¿µ](#çµæ§‹èˆ‡æ ¸å¿ƒæ¦‚å¿µ)
  - [1. `required_params` â€” å¿…å¡«åƒæ•¸](#1-required_params--å¿…å¡«åƒæ•¸)
  - [2. `allowed_values` â€” å…è¨±çš„å€¼](#2-allowed_values--å…è¨±çš„å€¼)
  - [3. `forbidden_values` â€” ç¦æ­¢çš„å€¼](#3-forbidden_values--ç¦æ­¢çš„å€¼)
  - [4. `conditional` â€” æ¢ä»¶è¦å‰‡](#4-conditional--æ¢ä»¶è¦å‰‡)
    - [**Trojan â€” å®Œæ•´æ–‡ä»¶**](#trojan--å®Œæ•´æ–‡ä»¶)
      - [è¦å‰‡çµæ§‹](#è¦å‰‡çµæ§‹)
      - [å¿…å¡«åƒæ•¸](#å¿…å¡«åƒæ•¸)
      - [å…è¨±çš„åƒæ•¸](#å…è¨±çš„åƒæ•¸)
      - [ğŸ”´ ç¦æ­¢çš„åƒæ•¸](#-ç¦æ­¢çš„åƒæ•¸)
      - [æ¢ä»¶è¦å‰‡](#æ¢ä»¶è¦å‰‡)
      - [æœ‰æ•ˆé€£çµç¯„ä¾‹](#æœ‰æ•ˆé€£çµç¯„ä¾‹)
    - [**Shadowsocks (SS) â€” å®Œæ•´æ–‡ä»¶**](#shadowsocks-ss--å®Œæ•´æ–‡ä»¶)
      - [è¦å‰‡çµæ§‹](#è¦å‰‡çµæ§‹-1)
      - [å¿…å¡«åƒæ•¸](#å¿…å¡«åƒæ•¸-1)
      - [å…è¨±çš„åŠ å¯†æ–¹æ³•](#å…è¨±çš„åŠ å¯†æ–¹æ³•)
        - [âœ… AEAD æ–¹æ³•ï¼ˆç¾ä»£æ¨™æº–ï¼‰](#-aead-æ–¹æ³•ç¾ä»£æ¨™æº–)
        - [âœ… Shadowsocks 2022ï¼ˆä½¿ç”¨ Blake3 çš„æ–°æ¨™æº–ï¼‰](#-shadowsocks-2022ä½¿ç”¨-blake3-çš„æ–°æ¨™æº–)
        - [âœ… ç‰¹æ®Šæ–¹æ³•](#-ç‰¹æ®Šæ–¹æ³•)
      - [ğŸ”´ ç¦æ­¢çš„æ–¹æ³•ï¼ˆå·²åœ¨ Xray-core 2024+ ä¸­ç§»é™¤ï¼‰](#-ç¦æ­¢çš„æ–¹æ³•å·²åœ¨-xray-core-2024-ä¸­ç§»é™¤)
      - [æœ‰æ•ˆé€£çµç¯„ä¾‹](#æœ‰æ•ˆé€£çµç¯„ä¾‹-1)
    - [**Hysteria2 â€” å®Œæ•´æ–‡ä»¶**](#hysteria2--å®Œæ•´æ–‡ä»¶)
      - [è¦å‰‡çµæ§‹](#è¦å‰‡çµæ§‹-2)
      - [å¿…å¡«åƒæ•¸](#å¿…å¡«åƒæ•¸-2)
      - [å…è¨±çš„åƒæ•¸](#å…è¨±çš„åƒæ•¸-1)
      - [æœ‰æ•ˆé€£çµç¯„ä¾‹](#æœ‰æ•ˆé€£çµç¯„ä¾‹-2)
    - [**é‡å¤§è®Šæ›´ï¼ˆ2026 å¹´ 2 æœˆï¼‰**](#é‡å¤§è®Šæ›´2026-å¹´-2-æœˆ)
      - [ğŸ”´ Trojanï¼š`flow` åƒæ•¸å·²ä¸å†æ”¯æ´](#-trojanflow-åƒæ•¸å·²ä¸å†æ”¯æ´)
      - [ğŸ”´ Shadowsocksï¼šCFB å’Œ CTR æ–¹æ³•å·²ä¸å†æ”¯æ´](#-shadowsockscfb-å’Œ-ctr-æ–¹æ³•å·²ä¸å†æ”¯æ´)
    - [**å…¶ä»–è³‡æº**](#å…¶ä»–è³‡æº)


# `rules.yaml` æ–‡ä»¶èªªæ˜

---
## çµæ§‹èˆ‡æ ¸å¿ƒæ¦‚å¿µ

`config/rules.yaml` æ–‡ä»¶åŒ…å«æ‰€æœ‰æ”¯æ´ä»£ç†å”å®šçš„**é©—è­‰è¦å‰‡**ã€‚é€™äº›è¦å‰‡å®šç¾©äº†å“ªäº›è¨­å®šè¢«è¦–ç‚º**æœ‰æ•ˆ**ï¼Œå“ªäº›å°‡è¢«**æ‹’çµ•**ã€‚

è©²æ–‡ä»¶æŒ‰**å”å®šé¡å‹**åˆ†ç‚ºä»¥ä¸‹å¹¾å€‹å€å¡Šï¼š
- `vless` â€” VLESS å”å®š
- `vmess` â€” VMess å”å®š
- `trojan` â€” Trojan å”å®š
- `ss` â€” Shadowsocks å”å®š
- `hysteria2` â€” Hysteria2 å”å®š

---
## 1. `required_params` â€” å¿…å¡«åƒæ•¸

ä¸€å€‹åœ¨é€£çµä¸­**å¿…é ˆå­˜åœ¨**çš„åƒæ•¸åˆ—è¡¨ã€‚

**è¡Œç‚ºï¼š**
- å¦‚æœç¼ºå°‘å…¶ä¸­ä»»ä½•ä¸€å€‹åƒæ•¸ï¼Œè©²é€£çµå°‡è¢«**æ‹’çµ•**ã€‚
- æ­¤æª¢æŸ¥åœ¨æ‰€æœ‰å…¶ä»–è¦å‰‡ä¹‹å‰**é¦–å…ˆåŸ·è¡Œ**ã€‚

**ç¯„ä¾‹ï¼š**
```yaml
vless:
  required_params:
    - encryption
    - sni
```
**è§£è®€ï¼š** VLESS é€£çµå¿…é ˆåŒ…å« `encryption` å’Œ `sni` åƒæ•¸ã€‚å¦‚æœç¼ºå°‘å…¶ä¸­ä»»ä½•ä¸€å€‹ï¼Œè©²é€£çµå°‡è¢«æ‹’çµ•ã€‚

---
## 2. `allowed_values` â€” å…è¨±çš„å€¼

ç‚ºç‰¹å®šåƒæ•¸æŒ‡å®šä¸€å€‹**å…è¨±çš„å€¼**åˆ—è¡¨ã€‚

**è¡Œç‚ºï¼š**
- **åƒ…åœ¨åƒæ•¸å­˜åœ¨æ™‚**é€²è¡Œæª¢æŸ¥ã€‚
- å¦‚æœåƒæ•¸çš„å€¼**ä¸åœ¨åˆ—è¡¨ä¸­**ï¼Œè©²é€£çµå°‡è¢«**æ‹’çµ•**ã€‚
- æ¯”è¼ƒæ˜¯**ä¸å€åˆ†å¤§å°å¯«**çš„ï¼ˆä¾‹å¦‚ï¼Œ`aes-256-gcm` = `AES-256-GCM`ï¼‰ã€‚
- å„ªå…ˆé †åºï¼š**ä½æ–¼ `forbidden_values`**ã€‚

**ç¯„ä¾‹ï¼š**
```yaml
ss:
  allowed_values:
    method:
      - "aes-128-gcm"
      - "aes-256-gcm"
      - "chacha20-poly1305"
      - "2022-blake3-aes-256-gcm"
```
**è§£è®€ï¼š** Shadowsocks åƒ…å…è¨±é€™äº›åŠ å¯†æ–¹æ³•ã€‚å¦‚æœæŒ‡å®šäº†å…¶ä»–æ–¹æ³•ï¼ˆä¾‹å¦‚ `aes-128-cfb`ï¼‰ï¼Œè©²é€£çµå°‡è¢«æ‹’çµ•ã€‚

---
## 3. `forbidden_values` â€” ç¦æ­¢çš„å€¼

ç‚ºç‰¹å®šåƒæ•¸æŒ‡å®šä¸€å€‹**ç¦æ­¢çš„å€¼**åˆ—è¡¨ã€‚

**è¡Œç‚ºï¼š**
- **åƒ…åœ¨åƒæ•¸å­˜åœ¨æ™‚**é€²è¡Œæª¢æŸ¥ã€‚
- å¦‚æœè©²å€¼**åœ¨åˆ—è¡¨ä¸­**ï¼Œè©²é€£çµå°‡è¢«**æ‹’çµ•**ã€‚
- **å„ªå…ˆæ–¼ `allowed_values`**ï¼ˆå…ˆé€²è¡Œæ­¤æª¢æŸ¥ï¼‰ã€‚
- æ¯”è¼ƒæ˜¯**ä¸å€åˆ†å¤§å°å¯«**çš„ã€‚
- æ”¯æ´**è¬ç”¨å­—å…ƒ** `"*"` â€” è¡¨ç¤ºç¦æ­¢è©²åƒæ•¸çš„**ä»»ä½•**å€¼ã€‚

**ç¯„ä¾‹ï¼š**
```yaml
vless:
  forbidden_values:
    security: ["none"]      # ç¦æ­¢ security=none
    authority: [""]         # ç¦æ­¢ç©ºçš„ authority
trojan:
  forbidden_values:
    flow: ["*"]             # ç¦æ­¢æ‰€æœ‰ flow å€¼ï¼ˆè©²åƒæ•¸å·²è¢«æ£„ç”¨ï¼‰
```
**è§£è®€ï¼š**
- `security=none` çš„ VLESS å°‡è¢«æ‹’çµ•ã€‚
- ä»»ä½•å¸¶æœ‰ `flow` å€¼çš„ Trojan éƒ½æœƒè¢«æ‹’çµ•ï¼ˆè©²åƒæ•¸å·²åœ¨ Xray-core 2024+ ä¸­æ£„ç”¨ï¼‰ã€‚

> âš ï¸ **é‡è¦ï¼š** `forbidden_values` å…·æœ‰**å…¨åŸŸ**ä½œç”¨åŸŸã€‚è‹¥è¦å…è¨±ä¾‹å¤–æƒ…æ³ï¼ˆä¾‹å¦‚ï¼Œåƒ…å°ç‰¹å®šé¡å‹å…è¨± `security=none`ï¼‰ï¼Œè«‹ä½¿ç”¨**æ¢ä»¶è¦å‰‡** `conditional`ã€‚

---
## 4. `conditional` â€” æ¢ä»¶è¦å‰‡

**åƒ…åœ¨æ»¿è¶³ç‰¹å®šæ¢ä»¶æ™‚**æ‰æ‡‰ç”¨çš„è¦å‰‡ã€‚

**çµæ§‹ï¼š**
```yaml
conditional:
  - when: { parameter: value }
    require: [list_of_required_parameters]
```
**è¡Œç‚ºï¼š**
- åœ¨ `required_params`ã€`allowed_values` å’Œ `forbidden_values` **ä¹‹å¾Œ**é€²è¡Œæª¢æŸ¥ã€‚
- `when` æ¢ä»¶çš„ä½œç”¨å¦‚åŒé‚è¼¯ ANDï¼ˆæ‰€æœ‰æ¢ä»¶éƒ½å¿…é ˆç‚ºçœŸï¼‰ã€‚
- å¦‚æœæ¢ä»¶æˆç«‹ï¼Œ`require` ä¸­çš„åƒæ•¸å°‡æˆç‚º**å¿…å¡«é …**ã€‚

**ç¯„ä¾‹ï¼š**
```yaml
conditional:
  # å¦‚æœ security=realityï¼Œå‰‡ pbk æ˜¯å¿…å¡«çš„
  - when: { security: "reality" }
    require: ["pbk"]
  # å¦‚æœ type=grpcï¼Œå‰‡ serviceName æ˜¯å¿…å¡«çš„
  - when: { type: "grpc" }
    require: ["serviceName"]
  # å¦‚æœ type=wsï¼Œå‰‡ path æ˜¯å¿…å¡«çš„
  - when: { type: "ws" }
    require: ["path"]
```
**è§£è®€ï¼š**
- `security=reality` çš„ VLESS å¿…é ˆåŒ…å« `pbk` åƒæ•¸ã€‚
- `type=grpc` çš„ VLESS å¿…é ˆåŒ…å« `serviceName` åƒæ•¸ã€‚
- `type=ws` çš„ VLESS å¿…é ˆåŒ…å« `path` åƒæ•¸ã€‚

---
---

### **Trojan â€” å®Œæ•´æ–‡ä»¶**

#### è¦å‰‡çµæ§‹
```yaml
trojan:
  required_params:
    - password
  forbidden_values:
    flow: ["*"]  # ä»»ä½• flow å€¼å‡è¢«ç¦æ­¢ï¼ˆè©²åƒæ•¸å·²åœ¨ Xray-core 2024+ ä¸­ç§»é™¤ï¼‰
  allowed_values:
    type: ["tcp", "ws", "grpc", "httpupgrade", "xhttp", "splithttp"]
    security: ["tls", "reality"]
    mode: ["gun", "multi"]
  conditional:
    - when: { security: "reality" }
      require: ["pbk"]
    - when: { type: "grpc" }
      require: ["serviceName"]
    - when: { type: "ws" }
      require: ["path"]
    - when: { type: "httpupgrade" }
      require: ["path"]
    - when: { type: "xhttp" }
      require: ["path"]
    - when: { type: "splithttp" }
      require: ["path"]
```

#### å¿…å¡«åƒæ•¸
| åƒæ•¸       | èªªæ˜             |
| ---------- | ---------------- |
| `password` | é©—è­‰å¯†ç¢¼ï¼ˆå¿…å¡«ï¼‰ |

#### å…è¨±çš„åƒæ•¸
| åƒæ•¸       | å…è¨±çš„å€¼                                                 | èªªæ˜      |
| ---------- | -------------------------------------------------------- | --------- |
| `type`     | `tcp`, `ws`, `grpc`, `httpupgrade`, `xhttp`, `splithttp` | å‚³è¼¸é¡å‹  |
| `security` | `tls`, `reality`                                         | å®‰å…¨é¡å‹  |
| `mode`     | `gun`, `multi`                                           | gRPC æ¨¡å¼ |

#### ğŸ”´ ç¦æ­¢çš„åƒæ•¸
| åƒæ•¸   | ç¦æ­¢çš„å€¼                   | åŸå›                               |
| ------ | -------------------------- | --------------------------------- |
| `flow` | **æ‰€æœ‰**å€¼ï¼ˆè¬ç”¨å­—å…ƒ `*`ï¼‰ | âŒ **å·²åœ¨ Xray-core 2024+ ä¸­ç§»é™¤** |

> âš ï¸ **åš´é‡è­¦å‘Šï¼š** `flow` åƒæ•¸åœ¨ç¾ä»£ç‰ˆ Xray-core ä¸­å·²**ä¸å†æ”¯æ´**ã€‚ä»»ä½•åŒ…å« `flow` åƒæ•¸çš„ Trojan è¨­å®šéƒ½å°‡åœ¨éæ¿¾æ™‚è¢«**è‡ªå‹•æ‹’çµ•**ã€‚

#### æ¢ä»¶è¦å‰‡
| æ¢ä»¶               | å¿…å¡«åƒæ•¸      | èªªæ˜                  |
| ------------------ | ------------- | --------------------- |
| `security=reality` | `pbk`         | REALITY éœ€è¦å…¬é‘°      |
| `type=grpc`        | `serviceName` | gRPC éœ€è¦æœå‹™åç¨±     |
| `type=ws`          | `path`        | WebSocket éœ€è¦è·¯å¾‘    |
| `type=httpupgrade` | `path`        | HTTP Upgrade éœ€è¦è·¯å¾‘ |
| `type=xhttp`       | `path`        | XHTTP éœ€è¦è·¯å¾‘        |
| `type=splithttp`   | `path`        | SplitHTTP éœ€è¦è·¯å¾‘    |

#### æœ‰æ•ˆé€£çµç¯„ä¾‹
âœ… ä½¿ç”¨ TLS çš„ Trojan TCPï¼š
```
trojan://password@example.com:443?security=tls&type=tcp
```
âœ… Trojan gRPCï¼š
```
trojan://password@example.com:443?security=tls&type=grpc&serviceName=service&mode=gun
```
âŒ **ç„¡æ•ˆ** â€” åŒ…å«è¢«ç¦æ­¢çš„ `flow` åƒæ•¸ï¼š
```
trojan://password@example.com:443?flow=xtls-rprx-vision  â† å·²æ‹’çµ•
```

---
### **Shadowsocks (SS) â€” å®Œæ•´æ–‡ä»¶**

#### è¦å‰‡çµæ§‹
```yaml
ss:
  required_params:
    - password
    - method
  forbidden_values:
    method:
      - "aes-128-cfb"
      - "aes-256-cfb"
      - "aes-128-ctr"
      - "aes-256-ctr"
  allowed_values:
    method:
      - "aes-128-gcm"
      - "aes-256-gcm"
      - "chacha20-poly1305"
      - "xchacha20-poly1305"
      - "2022-blake3-aes-128-gcm"
      - "2022-blake3-aes-256-gcm"
      - "2022-blake3-chacha20-poly1305"
      - "none"
```

#### å¿…å¡«åƒæ•¸
| åƒæ•¸       | èªªæ˜             |
| ---------- | ---------------- |
| `password` | é©—è­‰å¯†ç¢¼ï¼ˆå¿…å¡«ï¼‰ |
| `method`   | åŠ å¯†æ–¹æ³•ï¼ˆå¿…å¡«ï¼‰ |

#### å…è¨±çš„åŠ å¯†æ–¹æ³•
##### âœ… AEAD æ–¹æ³•ï¼ˆç¾ä»£æ¨™æº–ï¼‰
| æ–¹æ³•                 | å»ºè­°                                      |
| -------------------- | ----------------------------------------- |
| `aes-128-gcm`        | âœ… æ”¯æ´ï¼Œä½†å®‰å…¨æ€§ä½æ–¼ 256 ä½å…ƒ             |
| `aes-256-gcm`        | âœ… **æ¨è–¦** â€” å®‰å…¨æ€§èˆ‡æ•ˆèƒ½çš„è‰¯å¥½å¹³è¡¡       |
| `chacha20-poly1305`  | âœ… æ”¯æ´ï¼ŒAES çš„æ›¿ä»£æ–¹æ¡ˆï¼ˆç¬¦åˆ SP 800-38Dï¼‰ |
| `xchacha20-poly1305` | âœ… æ”¯æ´ï¼ŒChaCha20 çš„å¼·åŒ–ç‰ˆæœ¬               |

##### âœ… Shadowsocks 2022ï¼ˆä½¿ç”¨ Blake3 çš„æ–°æ¨™æº–ï¼‰
| æ–¹æ³•                            | å»ºè­°                        |
| ------------------------------- | --------------------------- |
| `2022-blake3-aes-128-gcm`       | âœ… æ”¯æ´ï¼ˆSS 2022 è¦æ ¼ï¼‰      |
| `2022-blake3-aes-256-gcm`       | âœ… **æ¨è–¦** â€” æœ€å®‰å…¨ä¸”ç¾ä»£åŒ– |
| `2022-blake3-chacha20-poly1305` | âœ… æ”¯æ´ï¼ˆSS 2022 è¦æ ¼ï¼‰      |

##### âœ… ç‰¹æ®Šæ–¹æ³•
| æ–¹æ³•   | å»ºè­°                                |
| ------ | ----------------------------------- |
| `none` | âš ï¸ ç„¡åŠ å¯† â€” å¾ˆå°‘ä½¿ç”¨ï¼Œåƒ…ç”¨æ–¼æ¸¬è©¦ç›®çš„ |

#### ğŸ”´ ç¦æ­¢çš„æ–¹æ³•ï¼ˆå·²åœ¨ Xray-core 2024+ ä¸­ç§»é™¤ï¼‰
| æ–¹æ³•          | ç§»é™¤åŸå›            |
| ------------- | ------------------ |
| `aes-128-cfb` | âŒ éæ™‚çš„ä¸²æµåŠ å¯†æ³• |
| `aes-256-cfb` | âŒ éæ™‚çš„ä¸²æµåŠ å¯†æ³• |
| `aes-128-ctr` | âŒ éæ™‚çš„ä¸²æµåŠ å¯†æ³• |
| `aes-256-ctr` | âŒ éæ™‚çš„ä¸²æµåŠ å¯†æ³• |

> âš ï¸ **åš´é‡è­¦å‘Šï¼š** CFB å’Œ CTR æ–¹æ³•åœ¨ Xray-core 2024+ ä¸­å·²**ä¸å†å¯¦ä½œ**ã€‚ä»»ä½•ä½¿ç”¨é€™äº›æ–¹æ³•çš„ Shadowsocks è¨­å®šéƒ½å°‡åœ¨éæ¿¾æ™‚è¢«**è‡ªå‹•æ‹’çµ•**ã€‚

#### æœ‰æ•ˆé€£çµç¯„ä¾‹
âœ… **æ¨è–¦** â€” ä½¿ç”¨ Blake3 çš„ SS 2022ï¼š
```
ss://2022-blake3-aes-256-gcm:password@example.com:8388
```
âœ… ä½¿ç”¨ AES-256-GCM çš„ Shadowsocksï¼š
```
ss://aes-256-gcm:password@example.com:8388
```
âŒ **ç„¡æ•ˆ** â€” åŒ…å«éæ™‚çš„ CFB æ–¹æ³•ï¼š
```
ss://aes-256-cfb:password@example.com:8388  â† å·²æ‹’çµ•ï¼ˆæ–¹æ³•å·²ç§»é™¤ï¼‰
```

---
### **Hysteria2 â€” å®Œæ•´æ–‡ä»¶**

#### è¦å‰‡çµæ§‹
```yaml
hysteria2:
  required_params:
    - obfs
    - obfs-password
  allowed_values:
    obfs: ["salamander"]
```

#### å¿…å¡«åƒæ•¸
| åƒæ•¸            | èªªæ˜             |
| --------------- | ---------------- |
| `obfs`          | æ··æ·†æ–¹æ³•ï¼ˆå¿…å¡«ï¼‰ |
| `obfs-password` | æ··æ·†å¯†ç¢¼ï¼ˆå¿…å¡«ï¼‰ |

#### å…è¨±çš„åƒæ•¸
| åƒæ•¸   | å…è¨±çš„å€¼     | èªªæ˜               |
| ------ | ------------ | ------------------ |
| `obfs` | `salamander` | å”¯ä¸€æ”¯æ´çš„æ··æ·†æ–¹æ³• |

#### æœ‰æ•ˆé€£çµç¯„ä¾‹
âœ… å¸¶æ··æ·†çš„ Hysteria2ï¼š
```
hy2://password@example.com:443?obfs=salamander&obfs-password=secret
```

---
### **é‡å¤§è®Šæ›´ï¼ˆ2026 å¹´ 2 æœˆï¼‰**

#### ğŸ”´ Trojanï¼š`flow` åƒæ•¸å·²ä¸å†æ”¯æ´
**è®Šæ›´å…§å®¹ï¼š**
- åœ¨ Xray-core 2024+ ä¸­ï¼Œ`flow` åƒæ•¸å·²å¾ Trojan å”å®šä¸­**ç§»é™¤**ã€‚
- åœ¨ `rules.yaml` ä¸­ï¼Œé€é `forbidden_values: { flow: ["*"] }` å¼·åˆ¶åŸ·è¡Œã€‚
- ä»»ä½•åŒ…å« `flow` åƒæ•¸çš„ Trojan è¨­å®šéƒ½å°‡è¢«**æ‹’çµ•**ã€‚

**è¢«æ‹’çµ•çš„é€£çµç¯„ä¾‹ï¼š**
```
âŒ trojan://password@example.com:443?flow=xtls-rprx-vision
âŒ trojan://password@example.com:443?type=tcp&flow=xtls-rprx-vision-udp443
```

**æ‡‰å°æªæ–½ï¼š**
1.  **æ›´æ–°æ‚¨çš„è¨­å®šï¼š** å¾ URL ä¸­ç§»é™¤ `flow` åƒæ•¸ã€‚
2.  **æ­£ç¢ºçš„é€£çµï¼š**
```
âœ… trojan://password@example.com:443?security=tls&type=tcp
```

---
#### ğŸ”´ Shadowsocksï¼šCFB å’Œ CTR æ–¹æ³•å·²ä¸å†æ”¯æ´
**è®Šæ›´å…§å®¹ï¼š**
- åœ¨ Xray-core 2024+ ä¸­ï¼Œå·²ç§»é™¤ `aes-128-cfb`ã€`aes-256-cfb`ã€`aes-128-ctr` å’Œ `aes-256-ctr` æ–¹æ³•ã€‚
- åœ¨ `rules.yaml` ä¸­ï¼Œé€é `forbidden_values: { method: [aes-128-cfb, aes-256-cfb, aes-128-ctr, aes-256-ctr] }` å¼·åˆ¶åŸ·è¡Œã€‚
- ä»»ä½•ä½¿ç”¨é€™äº›æ–¹æ³•çš„ Shadowsocks è¨­å®šéƒ½å°‡è¢«**æ‹’çµ•**ã€‚

**è¢«æ‹’çµ•çš„é€£çµç¯„ä¾‹ï¼š**
```
âŒ ss://aes-128-cfb:password@example.com:8388
âŒ ss://aes-256-ctr:password@example.com:8388
```

**æ¨è–¦æ–¹æ³•ï¼š**
- **æœ€ä½³é¸æ“‡ï¼š** `ss://2022-blake3-aes-256-gcm:password@example.com:8388`ï¼ˆç¾ä»£æ¨™æº–ï¼‰
- **æ›¿ä»£æ–¹æ¡ˆï¼š** `ss://aes-256-gcm:password@example.com:8388`ï¼ˆå‚³çµ± AEADï¼‰

**æ‡‰å°æªæ–½ï¼š**
1.  **æ›´æ–°æ‚¨çš„è¨­å®šï¼š** æ›¿æ›åŠ å¯†æ–¹æ³•ã€‚
2.  **æ­£ç¢ºçš„é€£çµï¼š**
```
âœ… ss://2022-blake3-aes-256-gcm:password@example.com:8388
âœ… ss://aes-256-gcm:password@example.com:8388
âœ… ss://chacha20-poly1305:password@example.com:8388
```

---
### **å…¶ä»–è³‡æº**
- **Xray-core è¦æ ¼ï¼š** https://xtls.github.io/
- **VLESS è¦æ ¼ï¼š** https://github.com/XTLS/Xray-core/blob/main/features/inbound/vless/encoding.go
- **Trojan è¦æ ¼ï¼š** https://trojan-gfw.github.io/
- **Shadowsocks è¦æ ¼ï¼š** https://shadowsocks.org/

---
**æ–‡ä»¶ç‰ˆæœ¬ï¼š** 2.1 (2026 å¹´ 2 æœˆ)
**ç›¸å®¹æ€§ï¼š** Xray-core 2024+ (98%+)
**æœ€å¾Œæ›´æ–°æ—¥æœŸï¼š** 2026 å¹´ 2 æœˆ 4 æ—¥